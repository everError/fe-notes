# 모노레포(Monorepo) 개요

## 1. 모노레포란?

모노레포(Monorepo, Mono Repository)는 **여러 개의 프로젝트를 하나의 저장소(Repository)에서 관리하는 방식**을 의미합니다. 여러 개의 패키지 또는 애플리케이션을 하나의 코드베이스에서 관리할 수 있어 유지보수와 협업이 용이합니다.

## 2. 모노레포의 장점

- **코드 재사용 극대화**: 여러 프로젝트에서 동일한 코드(패키지)를 쉽게 공유 가능
- **일관된 개발 환경 유지**: 의존성 및 빌드 설정을 중앙에서 통합 관리 가능
- **원활한 협업**: 여러 팀이 동일한 코드베이스에서 작업하여 일관성을 유지
- **CI/CD 효율화**: 여러 프로젝트를 한 번에 빌드, 테스트 및 배포 가능

## 3. 모노레포의 단점

- **초기 설정이 복잡할 수 있음**: 올바른 구조를 설계하고 도구(Yarn Workspaces, Turborepo 등)를 설정해야 함
- **빌드 성능 이슈**: 프로젝트가 커질수록 빌드 속도가 느려질 수 있음 (하지만 캐싱 기술로 해결 가능)
- **버전 관리가 어려울 수 있음**: 여러 패키지의 버전 충돌 가능성이 있음

## 4. Yarn Workspaces를 활용한 모노레포 구성

### 1️⃣ `package.json` 설정

```json
{
  "private": true,
  "workspaces": ["apps/*", "packages/*"]
}
```

- `private: true`: 루트 패키지가 개별적으로 배포되지 않도록 설정
- `workspaces`: 관리할 패키지의 경로 지정 (예: `apps/` 폴더와 `packages/` 폴더 내의 프로젝트들)

### 2️⃣ 폴더 구조 예시

```
my-monorepo/
├── apps/
│   ├── web-app/        # Vue.js 프로젝트
│   ├── admin-dashboard/ # 관리 페이지
│
├── packages/
│   ├── ui-components/  # 공통 UI 컴포넌트 패키지
│   ├── utils/          # 공통 유틸리티 라이브러리
│
├── package.json
├── yarn.lock
```

### 3️⃣ `yarn install` 실행

```sh
yarn install
```

- 모든 패키지의 의존성을 설치하고 링크를 설정

## 5. 대표적인 모노레포 도구

| 도구                | 특징                                                        |
| ------------------- | ----------------------------------------------------------- |
| **Yarn Workspaces** | 패키지 의존성 공유 및 관리 용이                             |
| **Turborepo**       | 빌드 캐싱을 지원하여 성능 최적화 가능                       |
| **Lerna**           | 버전 및 배포 관리에 특화된 모노레포 도구                    |
| **Nx**              | 대규모 프로젝트를 위한 강력한 빌드 및 테스트 관리 기능 제공 |

## 6. 결론

모노레포는 여러 프로젝트를 한 곳에서 관리할 수 있어 코드 재사용과 협업이 용이한 반면, 설정이 복잡할 수 있습니다. **Yarn Workspaces**를 활용하면 Vue.js 기반 프로젝트에서도 쉽게 모노레포 환경을 구축할 수 있으며, 필요에 따라 `Turborepo`와 같은 추가 도구를 활용하여 성능을 최적화할 수 있습니다. 🚀
